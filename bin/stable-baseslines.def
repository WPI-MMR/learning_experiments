Bootstrap: docker
From: nvidia/cuda:10.0-cudnn7-devel-ubuntu18.04

%post
    apt-get update \
        && apt-get -y install git ffmpeg libsm6 libxext6 python3-pip python3.7-dev \
        && rm -rf /var/lib/apt/lists/*
    mkdir /sources && cd /sources
    git clone https://github.com/WPI-MMR/gym_solo.git
    git clone https://github.com/WPI-MMR/learning_experiments.git
    python3.7 -m pip install -U pip wheel setuptools
    python3.7 -m pip install -e gym_solo/
    python3.7 -m pip install -e learning_experiments[gpu,wandb]
    python3.7 -m pip install jupyterlab